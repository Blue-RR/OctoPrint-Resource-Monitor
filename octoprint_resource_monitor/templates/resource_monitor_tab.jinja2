<div class="row-fluid">
    <div class="span4">
        <ul class="nav nav-list">
            <li class="active">
                <a href="#resource_monitor_cpu_tab" data-toggle="tab">
                    <div class="row-fluid">
                        <div class="span5">
                            <div id="resource-monitor-mini-cpu" class="resource-monitor-mini-plot"></div>
                        </div>
                        <div class="span7">
                            {{ _("Processor") }}<br/>
                            <span class="tiny-text">
                                <!-- ko with: cpu() -->
                                    <span data-bind="text: Math.round(average)"></span>%
                                    <span data-bind="text: (frequency.current/1000).toFixed(2)"></span> GHz
                                <!-- /ko -->
                            </span>
                        </div>
                    </div>
                </a>
            </li>
            <li>
                <a href="#resource_monitor_memory_tab" data-toggle="tab">
                    <div class="row-fluid">
                        <div class="span5">
                            <div id="resource-monitor-mini-memory" class="resource-monitor-mini-plot"></div>
                        </div>
                        <div class="span7">
                            {{ _("Memory") }}<br/>
                            <span class="tiny-text">
                                <!-- ko with: memory() -->
                                    <!-- ko with: filesize(total, {output: "exponent"}) -->
                                        <span data-bind="text: filesize($parent.used, {output: 'object', exponent: $data, round: 1}).value"></span>/<span data-bind="text: filesize($parent.total, {output: 'object', exponent: $data, round: 1}).value"></span>
                                        <span data-bind="text: filesize($parent.total, {output: 'object', exponent: $data}).symbol"></span>
                                        (<span data-bind="text: Math.round($parent.percent)"></span>%)
                                    <!-- /ko -->
                                <!-- /ko -->
                            </span>
                        </div>
                    </div>
                </a>
            </li>
            {% for partition in plugin_resource_monitor_partitions %}
                <li>
                    <a data-toggle="tab" href="#resource_monitor_disk_{{ loop.index - 1 }}_tab" data-index="{{ loop.index - 1 }}">
                        <div class="row-fluid">
                            <div class="span5">
                                <div class="resource-monitor-mini-plot resource-monitor-mini-partition-plot"></div>
                            </div>
                            <div class="span7">
                                {{ _("Disk") }} {{ loop.index - 1 }} ({{ partition["mountpoint"] }})<br/>
                                <span class="tiny-text">
                                    <!-- ko with: partitions()[{{ loop.index - 1 }}] -->
                                        <span data-bind="text: Math.round(percent)"></span>%
                                        {{ _("of") }}
                                        <span data-bind="text: filesize(total, {round: 1})"></span>
                                    <!-- /ko -->
                                </span>
                            </div>
                        </div>
                    </a>
                </li>
            {% endfor %}
            {% for nic in plugin_resource_monitor_network %}
                <li>
                    <a data-toggle="tab" href="#resource_monitor_network_{{ loop.index - 1 }}_tab" data-index="{{ loop.index - 1 }}">
                        <div class="row-fluid">
                            <div class="span5">
                                <div class="resource-monitor-mini-plot resource-monitor-mini-network-plot"></div>
                            </div>
                            <div class="span7">
                                {{ _("Network") }} {{ loop.index - 1 }}<br/>
                                <span class="tiny-text">
                                    {{ nic["name"] }}
                                </span>
                            </div>
                        </div>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="span8">
        <div class="tab-content">
            <div id="resource_monitor_cpu_tab" class="tab-pane active">
                {% if True %}
                    {% set nb_columns = 4 %}
                {% endif %}
                <div class="cpu-grid cpu-grid-{{ nb_columns }}">
                    {% for core in plugin_resource_monitor_cpu.cores %}
                        <div>
                            Coucou {{ loop.index - 1 }}
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div id="resource_monitor_memory_tab" class="tab-pane">
                Memory details here
            </div>
            {% for partition in plugin_resource_monitor_partitions %}
                <div id="resource_monitor_disk_{{ loop.index - 1 }}_tab" class="tab-pane">
                    Disk {{ loop.index - 1 }} details here
                </div>
            {% endfor %}
            {% for nic in plugin_resource_monitor_network %}
                <div id="resource_monitor_network_{{ loop.index - 1 }}_tab" class="tab-pane">
                    Network {{ loop.index - 1 }} details here
                </div>
            {% endfor %}
        </div>
    </div>
</div>
